DROP TABLE IF EXISTS t1, t2, t3;
CREATE TABLE t1 (b INT PRIMARY KEY);
CREATE TABLE t2 (a INT NOT NULL, b INT NOT NULL, CONSTRAINT HAHA FOREIGN KEY (b) REFERENCES t1(b));
CREATE TABLE t3 (a INT NOT NULL, b INT NOT NULL, CONSTRAINT HAHA FOREIGN KEY (b) REFERENCES t1(b));
ERROR HY000: Cannot add foreign key constraint
DROP TABLE t2;
CREATE TABLE t3 (a INT NOT NULL, b INT NOT NULL, CONSTRAINT HAHA FOREIGN KEY (b) REFERENCES t1(b));
INSERT INTO t1 (b) VALUES (100),(200),(300);
INSERT INTO t3 (a,b) VALUES (1,100),(2,200),(3,300);
SELECT * FROM t3;
a	b
1	100
2	200
3	300
DROP TABLE t3;
DROP TABLE t1;
